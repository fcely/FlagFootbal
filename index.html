<!DOCTYPE html>
<html lang="en">
<head>

    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Touchdown Divas </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #8B008B, #DA70D6, #FF69B4);
            color: white;
            min-height: 100vh;
        }
        
        .password-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #8B008B, #DA70D6, #FF69B4);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .password-container {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 182, 193, 0.3);
            text-align: center;
            box-shadow: 0 8px 32px rgba(139, 0, 139, 0.3);
        }
        
        .password-container h2 {
            color: #FFB6C1;
            margin-bottom: 20px;
            font-size: 2em;
        }
        
        .password-container input {
            padding: 15px;
            font-size: 18px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.9);
            color: #8B008B;
            margin: 10px;
            width: 250px;
            text-align: center;
        }
        
        .password-container button {
            padding: 15px 30px;
            font-size: 18px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(135deg, #FF1493, #FF69B4);
            color: white;
            cursor: pointer;
            margin: 10px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .password-container button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 20, 147, 0.4);
        }
        
        .error-message {
            color: #FF6B6B;
            margin-top: 10px;
            font-weight: bold;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            color: #FFB6C1;
        }
        
        .playbook-nav {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .play-category {
            background: rgba(218, 112, 214, 0.2);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 182, 193, 0.3);
        }
        
        .category-title {
            font-size: 1.4em;
            margin-bottom: 15px;
            text-align: center;
            color: #FFB6C1;
        }
        
        .play-button {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            background: linear-gradient(135deg, #FF1493, #FF69B4);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .green{

             background: linear-gradient(135deg, #2ec209, #b5e985);



        }

        .play-button.green.active {
            background: linear-gradient(135deg, #86b87a, #c2e0a5);
            color: #023f26;
        }



        
        .play-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 20, 147, 0.4);
        }
        
        .play-button.active {
            background: linear-gradient(135deg, #FFB6C1, #FF69B4);
            color: #8B008B;
        }
        
        .animation-container {
            background: rgba(218, 112, 214, 0.15);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 182, 193, 0.3);
            margin-bottom: 30px;
        }
        
        .play-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .play-title {
            font-size: 2em;
            margin-bottom: 10px;
            color: #FFB6C1;
        }
        
        .play-type {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        #field {
            background: linear-gradient(90deg, #228B22 0%, #32CD32 50%, #228B22 100%);
            border: 4px solid #FFB6C1;
            border-radius: 8px;
            margin: 20px auto;
            position: relative;
            box-shadow: 0 8px 32px rgba(139, 0, 139, 0.3);
            display: block;
        }
        
        .controls {
            margin: 20px 0;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .control-btn {
            padding: 12px 24px;
            font-size: 16px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .primary-btn {
            background: linear-gradient(135deg, #FF1493, #FF69B4);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 20, 147, 0.4);
        }
        
        .primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 20, 147, 0.6);
        }
        
        .secondary-btn {
            background: linear-gradient(135deg, #8B008B, #9370DB);
            color: white;
            box-shadow: 0 4px 15px rgba(139, 0, 139, 0.4);
        }
        
        .secondary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 0, 139, 0.6);
        }
        
        .play-info {
            background: rgba(218, 112, 214, 0.15);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 182, 193, 0.3);
        }
        
        .route-legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .route-item {
            background: rgba(255, 182, 193, 0.2);
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid #FF1493;
        }
        
        .complexity-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .simple { background: #FF69B4; color: white; }
        .intermediate { background: #DA70D6; color: white; }
        .advanced { background: #8B008B; color: white; }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            #field {
                width: 95vw;
                height: 300px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-btn {
                width: 200px;
            }
            
            .playbook-nav {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Password Overlay -->
    <div class="password-overlay" id="passwordOverlay">
        <div class="password-container">
            <h2>üèà Touchdown Divas Access</h2>
            <p>Enter the team password to view the playbook:</p>
            <input type="password" id="passwordInput" placeholder="Enter password..." />
            <br>
            <button onclick="checkPassword()">Enter Playbook</button>
            <div class="error-message" id="errorMessage"></div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container" id="mainContent" style="display: none;">
        <h1>üèà Touchdown Divas</h1>
      
        <p style="text-align: center; font-size: 1.2em; margin-bottom: 30px; opacity: 0.9;">
            Fall 2025 Playbook. (Green = Practiced plays for scrimmage)
        </p>
        
        <div class="playbook-nav">
            <div class="play-category">
                <div class="category-title">üèÉ‚Äç‚ôÇÔ∏è Running Plays</div>
                <button class="play-button green" onclick="selectPlay('triadTriumph')">Triad Triumph</button>
                <button class="play-button green" onclick="selectPlay('tigerJack')">Tiger Jack in the Box</button>
                <button class="play-button green" onclick="selectPlay('snakeCharmer')">Snake Charmer</button>
                <button class="play-button green" onclick="selectPlay('boomerang')">Boomerang</button>
                <button class="play-button green" onclick="selectPlay('whirlpool')">Whirlpool</button>
                <button class="play-button" onclick="selectPlay('tornadoTwist')">Tornado Twist</button>              
                <button class="play-button" onclick="selectPlay('switchblade')">Switchblade</button>
            </div>
            
            <div class="play-category">
                <div class="category-title">üéØ Passing Plays</div>
                <button class="play-button" onclick="selectPlay('mirrorMagic')">Mirror Magic</button>
                <button class="play-button" onclick="selectPlay('smokeScreen')">Smoke Screen</button>
                <button class="play-button" onclick="selectPlay('lightningStrike')">Lightning Strike</button>
                <button class="play-button" onclick="selectPlay('chaosTheory')">Chaos Theory</button>
                <button class="play-button" onclick="selectPlay('timeWarp')">Time Warp</button>
            </div>
        </div>
        
        <div class="animation-container">
            <div class="play-header">
                <div class="play-title" id="currentPlayTitle">Select a Play to Begin</div>
                <div class="play-type" id="currentPlayType">Choose from running or passing plays above</div>
            </div>
            
            <canvas id="field" width="800" height="400"></canvas>
            
            <div class="controls">
                <button class="primary-btn control-btn" onclick="runPlay()">üöÄ Run Play</button>
                <button class="secondary-btn control-btn" onclick="resetPlay()">üîÑ Reset</button>
                
            </div>
            
            <div class="play-info" id="playInfo">
                <h3>Welcome to the Interactive Playbook!</h3>
                <p>Select any play from the categories above to see detailed animations, route breakdowns, and coaching points. Each play features:</p>
                <ul style="margin: 15px 0; padding-left: 30px;">
                    <li>Pre-snap motion and formations</li>
                    <li>Step-by-step player movements</li>
                    <li>Ball carrier identification</li>
                    <li>Strategic deception elements</li>
                    <li>Multiple difficulty levels</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Password Protection
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            const errorMessage = document.getElementById('errorMessage');
            //if (1 === 1){
            if (password === 'divas2025') {
                document.getElementById('passwordOverlay').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                initializePlaybook();
            } else {
                errorMessage.textContent = 'Incorrect password. Please try again.';
                document.getElementById('passwordInput').value = '';
            }
        }
        
        // Allow Enter key to submit password
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });
        
        function initializePlaybook() {
            // Initialize the field
            drawField();
            
            // Auto-select first play
            setTimeout(() => {
                document.querySelector('.play-button').click();
            }, 500);
        }

        const canvas = document.getElementById('field');
        const ctx = canvas.getContext('2d');
        
        let animationId;
        let showTrails = true;
        let isAnimating = false;
        let preSnapPhase = true;
        let currentPlay = null;

        const plays = {
    triadTriumph: {
        name: "Triad Triumph",
        type: "Misdirection Pass with Triple Receiver Deception",
        complexity: "advanced",
        description: "Three receivers look backwards at snap creating massive confusion while motion draws defense right, QB handoff to Player #4",
        passTarget: 'player4',
        passTime: 0.1,
        players: {
            qb: { 
                x: 400, y: 320, startX: 400, startY: 320, label: 'QB', 
                route: [
                    {x: 400, y: 300}, {x: 300, y: 280}, {x: 300, y: 280}, {x: 300, y: 280}
                ], 
                hasBall: true 
            },
            center: { 
                x: 400, y: 280, startX: 400, startY: 280, label: 'C', 
                route: [
                    {x: 400, y: 280}, {x: 400, y: 250},{x: 380, y: 200},{x: 350, y: 180}, {x: 300, y: 100}
                ], 
                hasBall: false 
            },
            player1: { 
                x: 250, y: 280, startX: 250, startY: 280, label: '1‚Üì', 
                route: [
                    {x: 250, y: 280}, {x: 200, y: 220}, {x: 180, y: 160}, {x: 120, y: 100}
                ], 
                hasBall: false
            },
            player2: { 
                x: 600, y: 280, startX: 600, startY: 280,
                motionX: 380, motionY: 310, label: '2', 
                route: [
                    {x: 380, y: 310}, {x: 320, y: 295}, {x: 270, y: 165},{x: 220, y: 115}
                ], 
                hasBall: false
            },
            player3: { 
                 x: 350, y: 280, startX: 350, startY: 280, label: '3‚Üì', 
                route: [
                    {x: 350, y: 280}, {x: 350, y: 280}, {x: 400, y: 200}, {x: 450, y: 150}, {x: 500, y: 100} 
                ], 
                hasBall: false
            },
            player4: { 
                x: 300, y: 280, startX: 300, startY: 280, label: '4‚Üì', 
                route: [
                     {x: 300, y: 280}, {x: 300, y: 280}, {x: 250, y: 150}, {x: 200, y: 100}
                ], 
                hasBall: false
            }
        },
        routes: [
            "Players 1: Looks back at the QB at the snap, then runs deep left.",
            "Player 2: PMoves right before the snap, fakes a handoff from the QB, then runs out to the right.",
            "Player 3: Looks backwards at snap, deep post route right (clear safety),Pulls safeties and defenders deep.",
            "Player 4: Looks backwards at snap, crosses behind QB for HANDOFF, continues left upfield (PRIMARY BALL CARRIER)",
            "QB: Fakes a rollout or pass left, secretly hands off to Player 4.",
            "Center: Release left, Clears the path for the run."
        ]
    },

    tigerJack: {
        name: "Tiger Jack in the Box",
        type: "Running Play - QB Handoff to Player 4",
        complexity: "intermediate",
        description: "Pre-snap motion with crossing routes and hidden handoff to Player #4",
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [
                {x: 400, y: 300}, {x: 390, y: 315}, {x: 385, y: 325}
            ], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [], hasBall: false },
            player1: { x: 200, y: 280, startX: 200, startY: 280, label: '1', route: [
                {x: 200, y: 280}, {x: 280, y: 250}, {x: 380, y: 200}, {x: 500, y: 150}
            ], hasBall: false},
            player2: { x: 600, y: 280, startX: 600, startY: 280, label: '2', route: [
                {x: 600, y: 280}, {x: 520, y: 250}, {x: 420, y: 200}, {x: 300, y: 150}
            ], hasBall: false},
            player3: { 
                x: 250, y: 320, startX: 250, startY: 320, 
                motionX: 350, motionY: 310, label: '3', 
                route: [{x: 350, y: 310}, {x: 390, y: 320}, {x: 420, y: 330}, {x: 480, y: 250}, {x: 520, y: 200}], 
                hasBall: false
            },
            player4: { x: 400, y: 340, startX: 400, startY: 340, label: '4', route: [
                {x: 400, y: 340}, {x: 390, y: 330}, {x: 385, y: 325}, {x: 280, y: 310}, {x: 180, y: 280}, {x: 120, y: 200},{x: 120, y: 100}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Left wing - Diagonal up right (crossing route)",
            "Player 2: Right wing - Diagonal up left (crossing route)",
            "Player 3: PRE-SNAP MOTION ‚Üí fake handoff ‚Üí crosses Player 4 ‚Üí goes upfield",
            "Player 4: Gets handoff from QB ‚Üí runs left then up (PRIMARY BALL CARRIER)",
            "QB: Moves diagonally down to meet Player 4 for handoff",
            "Center: Pass/run protection"
        ]
    },
    
    snakeCharmer: {
        name: "Snake Charmer",
        type: "Counter Hand Off with Double Fake",
        complexity: "simple",
        description: "Counter handoff with convincing first fake - Player #4 gets the ball",
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [
                {x: 390, y: 300},  {x: 410, y: 300}
            ], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [], hasBall: false },
            player1: { x: 350, y: 320, startX: 350, startY: 320, label: '1', route: [
                {x: 350, y: 320}, {x: 280, y: 300}, {x: 200, y: 280},{x: 200, y: 100}
            ], hasBall: false},
            player2: { x: 150, y: 280, startX: 150, startY: 280, label: '2', route: [
                {x: 150, y: 280}, {x: 150, y: 250}, {x: 150, y: 200}
            ], hasBall: false},
            player3: { x: 650, y: 280, startX: 650, startY: 280, label: '3', route: [
                {x: 650, y: 280}, {x: 650, y: 250}, {x: 650, y: 70}
            ], hasBall: false},
            player4: { x: 450, y: 320, startX: 450, startY: 320, label: '4', route: [
                {x: 450, y: 320}, {x: 420, y: 300}, {x: 520, y: 280}, {x: 600, y: 200},{x: 600, y: 100}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Fake receive handoff, continue left (decoy)",
            "Player 2: Deep comeback route (outlet)",
            "Player 3: Go route (stretch defense)",
            "Player 4: Real handoff recipient, runs right (PRIMARY BALL CARRIER)",
            "QB: Fake to Player 1, real handoff to Player 4",
            "Center: Pass protection"
        ]
    },
    
    boomerang: {
        name: "Boomerang",
        type: "Fake Reverse with Delayed Handoff",
        complexity: "intermediate",
        description: "Double misdirection with reverse fake - Player #4 gets the ball",
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [ {x: 400, y: 280}, {x: 300, y: 220},], hasBall: false },
            player1: { x: 600, y: 280, startX: 600, startY: 280, label: '1', route: [
                {x: 600, y: 280}, {x: 550, y: 200}, {x: 500, y: 150}
            ], hasBall: false},
            player2: { x: 550, y: 280, startX: 550, startY: 280, label: '2', route: [
                {x: 550, y: 280}, {x: 500, y: 250}, {x: 450, y: 200}
            ], hasBall: false},
            player3: { 
                x: 500, y: 280, startX: 500, startY: 280,
                motionX: 380, motionY: 310, label: '3', 
                route: [{x: 380, y: 310}, {x: 320, y: 300}, {x: 280, y: 280}, {x: 240, y: 200}], 
                hasBall: false
            },
            player4: { x: 350, y: 320, startX: 350, startY: 320, label: '4', route: [
                {x: 350, y: 320}, {x: 400, y: 300}, {x: 300, y: 300}, {x: 250, y: 280}, {x: 180, y: 200}
            ], hasBall: true}
        },
        routes: [
            "Player 1: Deep post route",
            "Player 2: Deep slant right",
            "Player 3: Pre-snap motion, reverse fake, continue upfield",
            "Player 4: Gets handoff, fakes reverse to Player 3, keeps ball left (PRIMARY BALL CARRIER)",
            "QB: Handoff to Player 4",
            "Center: Quick out left(safety)"
        ]
    },
    
    tornadoTwist: {
        name: "Tornado Twist",
        type: "Bootleg Run with Play-Action Fake",
        complexity: "intermediate",
        description: "Triple level deception with bootleg action - Player #4 gets the ball",
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [
                {x: 400, y: 300}, {x: 400, y: 300}, {x: 380, y: 320}, {x: 380, y: 320}
            ], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [
                {x: 400, y: 280}, {x: 350, y: 270}, {x: 300, y: 260}
            ], hasBall: false },
            player1: { x: 200, y: 280, startX: 200, startY: 280, label: '1', route: [
                {x: 200, y: 280}, {x: 200, y: 250}, {x: 220, y: 150}
            ], hasBall: false},
            player2: { x: 600, y: 280, startX: 600, startY: 280, label: '2', route: [
                {x: 600, y: 280}, {x: 580, y: 200}, {x: 560, y: 150}
            ], hasBall: false},
            player3: { x: 550, y: 280, startX: 550, startY: 280, label: '3', route: [
                {x: 550, y: 280}, {x: 520, y: 250}, {x: 500, y: 220}
            ], hasBall: false},
            player4: { x: 350, y: 360, startX: 350, startY: 360, label: '4', route: [
                {x: 380, y: 340}, {x: 420, y: 330}, {x: 380, y: 320}, {x: 320, y: 300}, {x: 250, y: 280}, {x: 180, y: 150}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Deep comeback (outlet)",
            "Player 2: Deep corner route, Strech Defense",
            "Player 3: Quick slant left (outlet)",
            "Player 4: Fake receive right, loop behind QB for real handoff left (PRIMARY BALL CARRIER)",
            "QB: Fake handoff right, bootleg left, handoff to Player 4",
            "Center: Release left, lead block"
        ]
    },
    
    whirlpool: {
        name: "Whirlpool",
        type: "Jet Sweep with Counter Action",
        complexity: "advanced",
        description: "High-level misdirection using motion and counter - Player #4 gets the ball",
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [
                {x: 400, y: 300}, {x: 420, y: 310}
            ], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [
                {x: 400, y: 280}, {x: 450, y: 270}, {x: 500, y: 260}
            ], hasBall: false },
            player1: { x: 200, y: 280, startX: 200, startY: 280, label: '1', route: [
                {x: 200, y: 280}, {x: 250, y: 200}, {x: 300, y: 150}
            ], hasBall: false},
            player2: { 
                x: 600, y: 280, startX: 600, startY: 280,
                motionX: 300, motionY: 320, label: '2', 
                route: [{x: 300, y: 320}, {x: 250, y: 300}, {x: 200, y: 280}, {x: 150, y: 200}], 
                hasBall: false
            },
            player3: { x: 250, y: 280, startX: 250, startY: 280, label: '3', route: [
                {x: 250, y: 280}, {x: 250, y: 250}, {x: 300, y: 220}
            ], hasBall: false},
            player4: { x: 350, y: 320, startX: 350, startY: 320, label: '4', route: [
                {x: 350, y: 320}, {x: 420, y: 310}, {x: 500, y: 300}, {x: 580, y: 280}, {x: 650, y: 200}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Deep post route",
            "Player 2: Pre-snap jet motion, fake handoff, continue left",
            "Player 3: Quick hitch (outlet), short route where Player 3 quickly stops and turns back to the quarterback to provide a safe passing option if needed.",
            "Player 4: (PRIMARY BALL CARRIER)",
            "QB: Fake jet handoff, counter to Player 4",
            "Center: Release right, lead block"
        ]
    },
    
    switchblade: {
        name: "Switchblade",
        type: "RPO Run with Multiple Fakes",
        complexity: "advanced",
        description: "Multiple options with built-in pass safety valves - Player #4 gets the ball",
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [
                {x: 400, y: 300}, {x: 380, y: 310}, {x: 350, y: 320}
            ], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [
                {x: 400, y: 280}, {x: 350, y: 270}, {x: 300, y: 260}
            ], hasBall: false },
            player1: { x: 550, y: 280, startX: 550, startY: 280, label: '1', route: [
                {x: 550, y: 280}, {x: 520, y: 250}, {x: 500, y: 220}
            ], hasBall: false},
            player2: { x: 580, y: 280, startX: 580, startY: 280, label: '2', route: [
                {x: 580, y: 280}, {x: 580, y: 250}, {x: 600, y: 220}
            ], hasBall: false},
            player3: { x: 610, y: 280, startX: 610, startY: 280, label: '3', route: [
                {x: 610, y: 280}, {x: 610, y: 200}, {x: 610, y: 150}
            ], hasBall: false},
            player4: { x: 450, y: 320, startX: 450, startY: 320, label: '4', route: [
                {x: 450, y: 320}, {x: 380, y: 310}, {x: 320, y: 300}, {x: 250, y: 280}, {x: 180, y: 200}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Hitch route (outlet)",
            "Player 2: Quick slant right",
            "Player 3: Go deep (clear safety)",
            "Player 4: Multiple options - slant, fake, or pitch (PRIMARY BALL CARRIER)",
            "QB: Read defense, multiple handoff options to Player 4",
            "Center: Release left open run for 4"
        ]
    },
    
    mirrorMagic: {
        name: "Mirror Magic",
        type: "Play-Action Deep Comeback Combination",
        complexity: "simple",
        description: "Play-action with reliable possession target - Player #4 gets the pass",
        passTarget: 'player4',
        passTime: 0.6,
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [
                {x: 400, y: 300}, {x: 380, y: 310}, {x: 390, y: 300}
            ], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [
                {x: 400, y: 280}, {x: 450, y: 270}, {x: 480, y: 260}
            ], hasBall: false },
            player1: { x: 350, y: 320, startX: 350, startY: 320, label: '1', route: [
                {x: 350, y: 320}, {x: 280, y: 300}, {x: 200, y: 280}
            ], hasBall: false},
            player2: { x: 520, y: 280, startX: 520, startY: 280, label: '2', route: [
                {x: 520, y: 280}, {x: 500, y: 250}, {x: 480, y: 120}
            ], hasBall: false},
            player3: { x: 200, y: 280, startX: 200, startY: 280, label: '3', route: [
                {x: 200, y: 280}, {x: 250, y: 200}, {x: 300, y: 150}
            ], hasBall: false},
            player4: { x: 580, y: 280, startX: 580, startY: 280, label: '4', route: [
                {x: 580, y: 280}, {x: 580, y: 130}, {x: 550, y: 135}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Fake handoff, swing route left",
            "Player 2: Deep slant right (secondary)",
            "Player 3: Deep post route",
            "Player 4: Deep comeback route (PRIMARY TARGET)",
            "QB: Play-action fake, pass to Player 4",
            "Center: Quick hitch right (safety valve)"
        ]
    },
    
    smokeScreen: {
        name: "Smoke Screen",
        type: "Trips Overload with Motion Deception",
        complexity: "intermediate",
        description: "Motion creates coverage conflict with crossing routes - Player #4 gets the pass",
        passTarget: 'player4',
        passTime: 0.5,
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [
                {x: 400, y: 280}, {x: 450, y: 270}, {x: 480, y: 260}
            ], hasBall: false },
            player1: { x: 350, y: 320, startX: 350, startY: 320, label: '1', route: [
                {x: 350, y: 320}, {x: 300, y: 300}, {x: 250, y: 280}
            ], hasBall: false},
            player2: { x: 600, y: 280, startX: 600, startY: 280, label: '2', route: [
                {x: 600, y: 280}, {x: 580, y: 250}, {x: 560, y: 220}
            ], hasBall: false},
            player3: { 
                x: 500, y: 280, startX: 500, startY: 280,
                motionX: 300, motionY: 320, label: '3', 
                route: [{x: 300, y: 320}, {x: 350, y: 200}, {x: 400, y: 150}], 
                hasBall: false
            },
            player4: { x: 550, y: 280, startX: 550, startY: 280, label: '4', route: [
                {x: 550, y: 280}, {x: 480, y: 250}, {x: 400, y: 220}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Short route left(safety net)",
            "Player 2: Corner route right",
            "Player 3: Pre-snap motion left, deep post route ",
            "Player 4: Deep slant across middle (PRIMARY TARGET)",
            "QB: Quick progression through crossing routes to Player 4",
            "Center: Quick out right (outlet)"
        ]
    },
    
    lightningStrike: {
        name: "Lightning Strike",
        type: "Double Move Deep Shot",
        complexity: "advanced",
        description: "Sluggo route beats aggressive man coverage - Player #4 gets the deep pass",
        passTarget: 'player4',
        passTime: 0.7,
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [{x: 400, y: 310},{x: 400, y: 320}], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [
                {x: 400, y: 280}, {x: 400, y: 260}, {x: 400, y: 220}
            ], hasBall: false },
            player1: { x: 450, y: 320, startX: 450, startY: 320, label: '1', route: [
                {x: 450, y: 320}, {x: 500, y: 300}, {x: 550, y: 280}
            ], hasBall: false},
            player2: { x: 250, y: 280, startX: 250, startY: 280, label: '2', route: [
                {x: 250, y: 280}, {x: 250, y: 140}, {x: 290, y: 150}
            ], hasBall: false},
            player3: { x: 600, y: 280, startX: 600, startY: 280, label: '3', route: [
                {x: 600, y: 280}, {x: 580, y: 250}, {x: 560, y: 220}
            ], hasBall: false},
            player4: { x: 200, y: 280, startX: 200, startY: 280, label: '4', route: [
                {x: 200, y: 280}, {x: 220, y: 260}, {x: 240, y: 240}, {x: 200, y: 150}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Swing route right (checkdown)",
            "Player 2: Deep comeback (secondary)",
            "Player 3: Out route (quick option)",
            "Player 4: Slant toward middle, then accelerate straight downfield (PRIMARY DEEP TARGET)",
            "QB: 5-step drop, deep shot timing to Player 4",
            "Center: Quick hitch (outlet)- Run forward just a few yards (usually 3‚Äì5) and quickly turns back toward the quarterback"
        ]
    },
    
    chaosTheory: {
        name: "Chaos Theory",
        type: "Bunch Formation Pick Plays",
        complexity: "intermediate",
        description: "Bunch creates confusion and natural separation - Player #4 gets the pass",
        passTarget: 'player4',
        passTime: 0.4,
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [
                {x: 400, y: 280}, {x: 350, y: 270}, {x: 320, y: 260}
            ], hasBall: false },
            player1: { x: 350, y: 320, startX: 350, startY: 320, label: '1', route: [
                {x: 350, y: 320}, {x: 300, y: 300}, {x: 250, y: 250}
            ], hasBall: false},
            player2: { x: 570, y: 280, startX: 570, startY: 280, label: '2', route: [
                {x: 570, y: 280}, {x: 550, y: 250}, {x: 540, y: 180}
            ], hasBall: false},
            player3: { x: 600, y: 280, startX: 600, startY: 280, label: '3', route: [
                {x: 600, y: 280}, {x: 560, y: 200}, {x: 520, y: 70}
            ], hasBall: false},
            player4: { x: 530, y: 280, startX: 530, startY: 280, label: '4', route: [
                {x: 530, y: 250}, {x: 530, y: 140}, {x: 500, y: 155}
            ], hasBall: false}
        },
        routes: [
            "Player 1: Swing route left (checkdown)",
            "Player 2: Quick slant right (secondary)",
            "Player 3: Deep post route (clear safety)",
            "Player 4: Comeback route through bunch (PRIMARY TARGET)",
            "QB: Quick ball delivery through bunch traffic to Player 4",
            "Center: Quick hitch left (safety valve)"
        ]
    },
    
    timeWarp: {
        name: "Time Warp",
        type: "Bootleg Triple Option with Misdirection",
        complexity: "advanced",
        description: "Maximum misdirection with multiple passing options - Player #4 gets the pass",
        passTarget: 'player4',
        passTime: 0.6,
        players: {
            qb: { x: 400, y: 300, startX: 400, startY: 300, label: 'QB', route: [
                {x: 400, y: 300}, {x: 420, y: 310}, {x: 350, y: 320}, {x: 300, y: 300}
            ], hasBall: true },
            center: { x: 400, y: 280, startX: 400, startY: 280, label: 'C', route: [
                {x: 400, y: 280}, {x: 350, y: 290}, {x: 350, y: 310}
            ], hasBall: false },
            player1: { x: 450, y: 320, startX: 450, startY: 320, label: '1', route: [
                {x: 450, y: 320}, {x: 500, y: 300}, {x: 550, y: 280}
            ], hasBall: false},
            player2: { x: 600, y: 280, startX: 600, startY: 280, label: '2', route: [
                {x: 600, y: 280}, {x: 600, y: 250}, {x: 580, y: 100}, {x: 560, y: 120}
            ], hasBall: false},
            player3: { x: 250, y: 280, startX: 250, startY: 280, label: '3', route: [
                {x: 250, y: 280}, {x: 280, y: 250}, {x: 320, y: 220}
            ], hasBall: false},
            player4: { x: 200, y: 280, startX: 200, startY: 280, label: '4', route: [
               {x: 200, y: 280}, {x: 180, y: 200}, {x: 160, y: 150}
           ], hasBall: false}
       },
       routes: [
           "Player 1: Quickly moves to the right side, giving the quarterback a short, quick passing option.",
           "Player 2: Player 2 runs far down the field, then quickly turns back toward the quarterback to catch a longer pass",
           "Player 3: Player 3 runs diagonally across the field from right to left, providing a mid-range passing option",
           "Player 4: Corner route left (PRIMARY HIGH TARGET).  Runs toward the corner of the field and is the main intended receiver for the quarterback's pass.",
           "QB: Performs a play-action fake to the right to mislead the defense, then rolls left and passes to Player 4",
           "Center: Trail QB  (late outlet if the primary options are covered.)"
       ]
   }
};
      


        let trails = {};
        let passingPhase = false;
        let passingProgress = 0;
        let passTarget = null;
        
        function initCanvas() {
            // Draw field background
            ctx.fillStyle = '#228B22';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw yard lines
            ctx.strokeStyle = 'rgba(255, 182, 193, 0.8)';
            ctx.lineWidth = 2;
            for (let i = 0; i <= 8; i++) {
                const y = (i * 50) + 50;
                if (y < canvas.height) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(canvas.width, y);
                    ctx.stroke();
                }
            }
            
            // Draw hash marks
            ctx.lineWidth = 1;
            for (let i = 1; i <= 7; i++) {
                const y = (i * 50) + 50;
                if (y < canvas.height) {
                    ctx.beginPath();
                    ctx.moveTo(canvas.width/2 - 20, y);
                    ctx.lineTo(canvas.width/2 + 20, y);
                    ctx.stroke();
                }
            }
            
            // Draw line of scrimmage
            ctx.strokeStyle = 'red';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(0, 280);
            ctx.lineTo(canvas.width, 280);
            ctx.stroke();
        }
        
        function drawPlayer(player) {
            // Draw trail if enabled
            if (showTrails && trails[player.label]) {
                ctx.strokeStyle = 'rgba(255, 20, 147, 0.6)';
                ctx.lineWidth = 3;
                ctx.beginPath();
                for (let i = 0; i < trails[player.label].length; i++) {
                    const point = trails[player.label][i];
                    if (i === 0) {
                        ctx.moveTo(point.x, point.y);
                    } else {
                        ctx.lineTo(point.x, point.y);
                    }
                }
                ctx.stroke();
            }
            
            // Draw route arrows
            if (player.route && player.route.length > 1) {
                drawRouteArrows(player.route, player.label);
            }
            
            // Draw player circle with different colors for ball carrier
            const gradient = ctx.createRadialGradient(player.x, player.y, 0, player.x, player.y, 20);
            if (player.hasBall) {
                gradient.addColorStop(0, '#FFB6C1');
                gradient.addColorStop(1, '#FF69B4');
            } else {
                gradient.addColorStop(0, '#DA70D6');
                gradient.addColorStop(1, '#8B008B');
            }
            
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(player.x, player.y, 20, 0, Math.PI * 2);
            ctx.fill();
            
            // Draw player border
            ctx.strokeStyle = player.hasBall ? '#FFB6C1' : '#fff';
            ctx.lineWidth = player.hasBall ? 4 : 3;
            ctx.stroke();
            
            // Draw football icon for ball carrier
            if (player.hasBall) {
                ctx.fillStyle = '#8B4513';
                ctx.beginPath();
                ctx.ellipse(player.x + 15, player.y - 15, 8, 5, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 1;
                ctx.stroke();
                
                // Football laces
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(player.x + 15, player.y - 18);
                ctx.lineTo(player.x + 15, player.y - 12);
                ctx.stroke();
            }
            
            // Draw player label
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(player.label, player.x, player.y);
        }
        
        function drawRouteArrows(route, playerLabel) {
            if (route.length < 2) return;
            
            ctx.strokeStyle = 'rgba(255, 182, 193, 0.9)';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            
            // Draw route line
            ctx.beginPath();
            ctx.moveTo(route[0].x, route[0].y);
            for (let i = 1; i < route.length; i++) {
                ctx.lineTo(route[i].x, route[i].y);
            }
            ctx.stroke();
            
            // Draw arrows at key points
            for (let i = 1; i < route.length; i++) {
                const start = route[i - 1];
                const end = route[i];
                const angle = Math.atan2(end.y - start.y, end.x - start.x);
                
                // Draw arrowhead
                const arrowLength = 8;
                const arrowWidth = 4;
                
                ctx.save();
                ctx.translate(end.x, end.y);
                ctx.rotate(angle);
                
                ctx.fillStyle = 'rgba(255, 182, 193, 0.9)';
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.lineTo(-arrowLength, -arrowWidth);
                ctx.lineTo(-arrowLength, arrowWidth);
                ctx.closePath();
                ctx.fill();
                
                ctx.restore();
            }
            
            ctx.setLineDash([]);
        }
        
        function drawPassingArc(fromPlayer, toPlayer, progress) {
            const startX = fromPlayer.x;
            const startY = fromPlayer.y;
            const endX = toPlayer.x;
            const endY = toPlayer.y;
            
            // Calculate arc height based on distance
            const distance = Math.sqrt((endX - startX) ** 2 + (endY - startY) ** 2);
            const arcHeight = Math.min(distance * 0.3, 60);
            
            // Control point for arc (midpoint raised)
            const midX = (startX + endX) / 2;
            const midY = (startY + endY) / 2 - arcHeight;
            
            // Calculate ball position along arc
            const t = progress;
            const ballX = (1 - t) * (1 - t) * startX + 2 * (1 - t) * t * midX + t * t * endX;
            const ballY = (1 - t) * (1 - t) * startY + 2 * (1 - t) * t * midY + t * t * endY;
            
            // Draw arc trail
            ctx.strokeStyle = 'rgba(255, 182, 193, 0.8)';
            ctx.lineWidth = 3;
            ctx.setLineDash([3, 3]);
            ctx.beginPath();
            ctx.moveTo(startX, startY);
            ctx.quadraticCurveTo(midX, midY, endX, endY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Draw football in flight
            ctx.fillStyle = '#8B4513';
            ctx.beginPath();
            ctx.ellipse(ballX, ballY, 6, 4, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 1;
            ctx.stroke();
            
            // Football laces
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(ballX, ballY - 3);
            ctx.lineTo(ballX, ballY + 3);
            ctx.stroke();
        }
        
        function drawField() {
            initCanvas();
            
            if (!currentPlay) return;
            
            // Draw all players
            Object.values(currentPlay.players).forEach(player => {
                drawPlayer(player);
            });
            
            // Draw passing arc if in passing phase
            if (passingPhase && passingProgress < 1) {
                const qb = currentPlay.players.qb || currentPlay.players.QB;
                const target = passTarget;
                if (qb && target) {
                    drawPassingArc(qb, target, passingProgress);
                }
            }
        }
        
        function selectPlay(playName) {
            // Remove active class from all buttons
            document.querySelectorAll('.play-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to selected button
            event.target.classList.add('active');
            
            currentPlay = plays[playName];
            
            // Update UI
            document.getElementById('currentPlayTitle').textContent = currentPlay.name;
            document.getElementById('currentPlayType').innerHTML = 
                currentPlay.type + `<span class="complexity-badge ${currentPlay.complexity}">${currentPlay.complexity.toUpperCase()}</span>`;
            
            // Update play info
            const playInfoHTML = `
                <h3>üìã ${currentPlay.name} - Play Breakdown</h3>
                <p><strong>Description:</strong> ${currentPlay.description}</p>
                <div class="route-legend">
                    ${currentPlay.routes.map(route => `<div class="route-item">${route}</div>`).join('')}
                </div>
            `;
            document.getElementById('playInfo').innerHTML = playInfoHTML;
            
            resetPlay();
        }
        
        function resetPlay() {
            if (animationId) {
                cancelAnimationFrame(animationId);
            }
            
            if (!currentPlay) return;
            
            isAnimating = false;
            preSnapPhase = true;
            passingPhase = false;
            passingProgress = 0;
            passTarget = null;
            
            // Reset player positions and ball possession
            Object.keys(currentPlay.players).forEach(key => {
                const player = currentPlay.players[key];
                player.x = player.startX;
                player.y = player.startY;
                player.hasBall = (key === 'qb' || key === 'QB'); // QB starts with ball
                trails[key] = [];
            });
            
            drawField();
        }
        
        function runPlay() {
            if (isAnimating || !currentPlay) return;
            
            resetPlay();
            isAnimating = true;
            preSnapPhase = true;
            
            const preSnapDuration = 2000; // 2 seconds for pre-snap motion
            const playDuration = 4000; // 4 seconds for actual play
            const startTime = Date.now();
            let playStartTime;
            
            function animate() {
                const elapsed = Date.now() - startTime;
                
                if (preSnapPhase && elapsed < preSnapDuration) {
                    // Pre-snap motion phase
                    const motionProgress = elapsed / preSnapDuration;
                    
                    // Handle pre-snap motion for players that have it
                    Object.keys(currentPlay.players).forEach(key => {
                        const player = currentPlay.players[key];
                        if (player.motionX !== undefined && player.motionY !== undefined) {
                            const startX = player.startX;
                            const startY = player.startY;
                            const endX = player.motionX;
                            const endY = player.motionY;
                            
                            player.x = startX + (endX - startX) * motionProgress;
                            player.y = startY + (endY - startY) * motionProgress;
                        }
                    });
                    
                    drawField();
                    
                    // Add motion indicator text
                    ctx.fillStyle = '#FFB6C1';
                    ctx.font = 'bold 24px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('PRE-SNAP MOTION', canvas.width/2, 50);
                    
                } else if (preSnapPhase) {
                    // Transition from pre-snap to play
                    preSnapPhase = false;
                    playStartTime = Date.now();
                }
                
                if (!preSnapPhase) {
                    // Play execution phase
                    const playElapsed = Date.now() - playStartTime;
                    const progress = Math.min(playElapsed / playDuration, 1);
                    
                    // Clear and redraw field
                    drawField();
                    
                    // Add snap indicator
                    if (progress < 0.1) {
                        ctx.fillStyle = '#FF1493';
                        ctx.font = 'bold 24px Arial';
                        ctx.textAlign = 'center';
                        ctx.fillText('HIKE!', canvas.width/2, 50);
                    }
                    
                    // Animate each player along their route
                    Object.keys(currentPlay.players).forEach(key => {
                        const player = currentPlay.players[key];
                        if (player.route && player.route.length > 1) {
                            const routeProgress = progress * (player.route.length - 1);
                            const segmentIndex = Math.floor(routeProgress);
                            const segmentProgress = routeProgress - segmentIndex;
                            
                            if (segmentIndex < player.route.length - 1) {
                                const start = player.route[segmentIndex];
                                const end = player.route[segmentIndex + 1];
                                
                                player.x = start.x + (end.x - start.x) * segmentProgress;
                                player.y = start.y + (end.y - start.y) * segmentProgress;
                                
                                // Add to trail
                                if (showTrails) {
                                    trails[key].push({x: player.x, y: player.y});
                                    if (trails[key].length > 20) {
                                        trails[key].shift();
                                    }
                                }
                            }
                        }
                    });
                    
                    // Handle ball transfer logic based on play type
                    if (currentPlay.passTarget && currentPlay.passTime) {
                        // Passing plays
                        if (progress >= currentPlay.passTime && !passingPhase) {
                            // Start passing phase
                            passingPhase = true;
                            passingProgress = 0;
                            passTarget = currentPlay.players[currentPlay.passTarget];
                            
                            // QB no longer has ball during pass
                            Object.keys(currentPlay.players).forEach(key => {
                                if (key === 'qb' || key === 'QB') {
                                    currentPlay.players[key].hasBall = false;
                                }
                            });
                        }
                        
                        if (passingPhase) {
                            // Update passing progress
                            const passingDuration = 1000; // 1 second for pass flight
                            passingProgress = Math.min((playElapsed - (currentPlay.passTime * playDuration)) / passingDuration, 1);
                            
                            // When pass completes, receiver gets ball
                            if (passingProgress >= 1) {
                                passingPhase = false;
                                if (passTarget) {
                                    passTarget.hasBall = true;
                                }
                            }
                        }
                    } else {
                        // Running plays - transfer ball at 35%
                        if (progress > 0.35) {
                            Object.keys(currentPlay.players).forEach(key => {
                                if (key === 'qb' || key === 'QB') {
                                    currentPlay.players[key].hasBall = false;
                                }
                            });
                            // Find the running back or ball carrier
                            if (currentPlay.players.player4) currentPlay.players.player4.hasBall = true;
                            if (currentPlay.players.rb) currentPlay.players.rb.hasBall = true;
                            if (currentPlay.players.rb2) currentPlay.players.rb2.hasBall = true;
                        }
                    }
                    
                    if (progress >= 1) {
                        isAnimating = false;
                        return;
                    }
                }
                
                animationId = requestAnimationFrame(animate);
            }
            
            animate();
        }
        
        function toggleTrails() {
            showTrails = !showTrails;
            if (!showTrails) {
                Object.keys(trails).forEach(key => {
                    trails[key] = [];
                });
            }
            drawField();
        }
        
        // Handle window resize
        window.addEventListener('resize', () => {
            if (document.getElementById('mainContent').style.display !== 'none') {
                drawField();
            }
        });
    </script>
</body>
</html>
